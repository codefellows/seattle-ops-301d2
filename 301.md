#### Day 1 Change Management

  1. md (Instructor-facing)
    1. Instructor Resources
      1. ITIL - [Wiki IT Process Maps](https://wiki.en.it-processmaps.com/index.php/ITIL_4)
      2. Agile Project Management - [apm.org](https://www.apm.org.uk/resources/find-a-resource/agile-project-management/)
      3. Spiceworks Cloud Helpdesk - [Spiceworks.com](https://www.spiceworks.com/)

    2. Demo
      1. Spiceworks Cloud Helpdesk setup process
    3. Agenda
      1. Introductions
      2. Lecture
      3. Demo
      4. Lab
    4. Student Resources
      1. ITIL - [Wiki IT Process Maps](https://wiki.en.it-processmaps.com/index.php/ITIL_4)
      2. Agile Project Management - [apm.org](https://www.apm.org.uk/resources/find-a-resource/agile-project-management/)
      3. Spiceworks Cloud Helpdesk - [Spiceworks.com](https://www.spiceworks.com/)

  2. Lab Scenario
    1. GlobeX Corporation is a rapidly-growing distributor of thermopower widgets. A local startup that quickly developed international clientele, the company is making aggressive acquisitions and expansions in strategic areas.
    2. You have been hired at GlobeX Corporation as the new Systems Administrator reporting directly to the IT Manager. You will be responsible for both systems and network infrastructure design, deployment, and operations in this exciting new role. You have a small team of support technicians that handle day-to-day support requests, so that you can work on growing the company's technological capabilities to keep up with its business ambitions.
    3. The IT Manager has requested you review provided documentation and submit a plan to make the company's IT infrastructure more scalable and administratable. You've also been tasked with installing software you'll use to manage the network. Your first day on the job is tomorrow.
  3. Lab Objective:
    1. Install and configure GNS3
    2. Install and configure VMware Player (or Virtualbox if you prefer)
    3. Download appliance image files
    4. Submit a completed request for change (RFC) form to transition to a client-server model
      1. RFC form requirements (design your own form)
      1. Unique ID
          1. 45668
      2. Date of submission
          1. [Today's date]
      3. Change Owner
          1. [Your name]
      4. Initiator of the RFC (if not identical with Change Owner)
          1. [Your name]
      5. Proposed Change priority (e.g. "Very High (Emergency Change)", "High", "Normal", "Low" - may be overruled by Change Management during Change assessment)
      6. Reference to Change Proposal (if the Change is related to a Change Proposal submitted at an earlier stage)
      7. Description of the Change being applied for
          1. Summary description
          2. Business case
          3. Reason for the Change to be implemented
          4. Costs
          5. Benefits
          6. Consequences if the Change is not implemented
      8. References (e.g. to a Problem Record triggering this RFC)
      9. Business areas on the client-side affected by the Change
      10. Services affected by the Change
      11. IT infrastructure components (CIs) affected by the Change
          1. Current IT infrastructure is workgroup/peer-to-peer at one site
      12. Technology aspects (is a new technology being introduced?)
      13. Risks during the implementation of the Change
      14. Identified risks
      15. Counter-measures (e.g. reversion procedure)
      16. Back-out strategy for the case of a failed Change implementation
      17. Time schedule (Predicted/suggested time schedule for the implementation)
      18. Estimate of resources for the implementation
      19. Required personnel resources (from which areas?)
      20. Update to the disaster recovery planEstimated work effort for the required personnel resources
      21. Cost estimate (itemized for bigger Changes)
      22. Budget (Statement as to whether a budget is allocated and cleared for this Change)
      23. Additional supporting documents
      24. (If applicable, index of additional supporting documents, e.g. the Service Design Package for major additions or modifications to services)
      25. Approval or rejection
      26. Date
      27. Person/ body in charge of the approval (Change Manager/ CAB/ ECAB)
      28. Change reviewers
      29. Priority assigned by Change Management
      30. Restrictions
      31. If applicable, reasons for rejecting the RFC

  1. Assigned Reading
    1. Article - [IBM: Introduction to Networking](https://www.ibm.com/cloud/learn/networking-a-complete-guide)
      1. Do you use a router at home? If so, is it integrated with firewall and other features?
      2. What network topology do you have at home?

  1.

#### Day 2 Network Design

  1. Notes
    1. Today we're introducing computer networking at scale. This is a higher level than Ops 201 Day 12, where we introduced device-level information.
  2. Learning Objective:
    1. Knowledge of network design & infrastructure
    2. Knowledge of routing protocols e.g. OSPF, BGP
  2. Discussion

    1. Article - [IBM: Introduction to Networking](https://www.ibm.com/cloud/learn/networking-a-complete-guide)
    1. Do you use a router at home? If so, is it integrated with firewall and other features?
    2. What network topology do you have at home?

  3. Lecture

  1. Why diagram the network topology?
  1. Demonstrate interdependencies
  2. Identify visibility levels across network
  3. Planning
  2. What are the types of network topologies?
  1. Bus
  2. Ring
  3. Star
  4. Mesh
  5. Tree
  6. Hybrid

![](RackMultipart20200813-4-uhtolv_html_eb4784b58bf892cd.png)

1. What is a router?
2. What is a switch?
1. OSI Layer 2 device that connect devices together on a LAN using ethernet
2. Splits collision domains
    1. Here Host A is trying to send a packet to Host C
    2. Hosts B and D don't receive the packet from Host A

![](RackMultipart20200813-4-uhtolv_html_39d541e29ed91a4a.png)

  1. What is a collision domain?
    1. Where packets go on a switch.
  2. What is a data packet?
    1. Unit of data put into a single package that travels along a network path
    2. Analogy
      1. Data is something you order from Amazon
      2. Packet header is the Amazon box with your address
      3. The Amazon driver heading to your address is the transport layer
      4. Together, the data within a packet header form a Packet

![](RackMultipart20200813-4-uhtolv_html_156e96636a59c000.png)

      1. In Ops 401 we'll dissect and analyze packets with Wireshark. For now, just understand that data is wrapped by metadata that indicates what the data is and where it's supposed to go.
      2. For additional security, data packets can be encrypted, such as AES-256 algorithm over an IPsec tunnel.

1. What are the components of a basic network?
1. Firewall
    1. Filters inbound traffic at the port level
2. Router
    1. Today's enterprise grade routers will typically include firewall capabilities. Example, unified threat management (UTM) appliances like the Sonicwall TZ400 are a strong value point and blur the line between router and firewall, adding capabilities such as:
    1. Antimalware
    2. Deep packet inspection (DPI)
    3. IPS/IDS

    2. When standing up a small business, be sure to prioritize reliability. Avoid consumer grade like the plague.
    3. Here's what a small business star topology might look like. Don't worry, we're starting out simple in our lab.

![](RackMultipart20200813-4-uhtolv_html_665a49c0cb6ffc9f.png)

1. What is GNS3?
1. "Originally developed as a tool for Cisco networking, GNS3 (short for Graphical Network Simulator) has developed into a multi-vendor network simulator. GNS3 was initially developed by a university student on top of Dynamips as a means of emulating Cisco software, the interface was developed as a means to design and configure networks. However, thanks to networking professionals looking for a tool to learn more about networking and testing their ideas — and to prepare for the rigorous Cisco certification exams — the software has been downloaded more than 11 million times since 2008." ([Source](http://www.allconsuming.net/what-is-gns3-and-why-do-you-need-it/))
2. Network simulator
    1. Integrates with VMware
    2. Mount ISOs of network devices
3. Different design from its peers, for example Cisco Packet Tracer is a network emulator, not simulator'
2. Demo - How do we use GNS3?
1. GNS3 takes a fair amount of work to setup, so budget some time and download images ahead of time if possible.
2. Install GNS3 on the same computer hosting VMware (cannot virtualize within VMware)
3. You will need to supply your own system images (Google can lookup downloads)
    1. "You must provide your own Cisco IOS and IOU image to use with GNS3 due to licensing issues. GNS3 is meant to be used in a lab environment for testing and learning. Once you have obtained your own copy of a Cisco IOS for one of the supported platforms, you are ready to continue."

1. Lab Scenario
    1. You arrive at the office on your first day to find that the network is experiencing a major unexplained outage. You are ushered into the network equipment area where you diagnose the LazyTek router as malfunctioning, experiencing an outage every couple hours. You reboot it to restore service temporarily, while you plan a replacement. The router runs a DHCP server with a list of reserved IPs on a single subnet.
2. Lab Objectives
    1. On GNS3, deploy a functional LAN consisting of one router and one computer.
    2. Submit a RFC to replace the router.
    3. Stretch goal
    1. Stretch goal objective
1. Lab Solution:

    1. Install GNS3
    2. Deploy a router and computer
    1. Download a Windows 10 VM (6.7GB est. 10 min download time) [here](https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/)
    2. Download router image - pfsense
    3. Deploy pfsense router device (it's also a firewall)
    1. Console to pfenses should look like this

![](RackMultipart20200813-4-uhtolv_html_f7b5bbba6ebb1616.png)

      1. Don't press anything on this splash screen. Install pfsense using all default settings. Hit No on the prompt then Reboot. Take note that port em0 is for WAN, port em1 is for LAN by default, with remaining ports as optional extra interfaces. This is of course configurable.
      2. Once you see the shell below, you're OK to close out and access pfsense's browser-based GUI moving forward (default at https://192.168.1.1).
      3. ![](RackMultipart20200813-4-uhtolv_html_4f6335937c921fe7.png)
    1. Deploy Windows 10 VM
      1. Console (VNC) should look something like this

![](RackMultipart20200813-4-uhtolv_html_63ea4a99be810aed.png)

      1. Password is Passw0rd! as indicated on [Microsoft's download site](https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/)
      2. Note the expiration warning from Microsoft: "These virtual machines expire after 90 days. We recommend setting a snapshot when you first install the virtual machine which you can roll back to later. Mac users will need to use a tool that supports zip64, like The Unarchiver, to unzip the files."
    1. Create the [NAT appliance](https://docs.gns3.com/1eMqJLSBFgcHaOGctAoNKfN1QpxdJvVsfVfPt6lVCmek/index.html) and connect Router Eth1 > Cloud Eth1.
      1. Make sure your GNS3 VM is on NAT mode, and that you connect to GNS3 VM Server as remote local host.
    2. You should have this topology so far

![](RackMultipart20200813-4-uhtolv_html_e1abeb2b8c0b409b.png)

    1. On the Win10 box navigate to 192.168.1.1 and disregard the certificate warning (proceed anyway). You should land at the pfsense wizard prompt.

![](RackMultipart20200813-4-uhtolv_html_c5972cdb2a723a42.png)

    1. Enter as admin / pfsense and run the wizard with default settings. Set time zone to America Los Angeles (or wherever you are, but be consistent across all systems).

![](RackMultipart20200813-4-uhtolv_html_ce14c587725184a5.png)

![](RackMultipart20200813-4-uhtolv_html_2f0d3595e9736940.png)

    1. If you get stuck, try to reboot devices after making network changes. There's more elegant troubleshooting like ipconfig /renew but for now, remember that rebooting forces network services to re-initialize.
    2. Verify packets can be sent from computers to destination
    3. Verify your Win 10 PC can browse the web
    4. Screenshots of the old router settings will be provided.
    5. Submit a completed [request for change (RFC) form](https://www.itil-docs.com/change-request-form-template/) for deploying a new router
    6. Document your new network topology
      1. Type
      2. Topology diagram
        1. All devices labeled
        2. Connectivity lines drawn
    7. What type of network topology should GlobeX adopt moving forward?
      1. EG Star, Bus, Mesh
    8. Create and submit a RFC to replace the router

  1. md (Instructor-facing)
    1. Instructor Resources
    2. Demo
      1. Show how GNS3 is setup and can be used to virtualize a network

    3. Agenda
      1. Discussion
      2. Lecture
      3. Demo
      4. Lab
    4. Student Resources
      1. Article - [GNS3: Getting Started With GNS3](https://docs.gns3.com/1PvtRW5eAb8RJZ11maEYD9_aLY8kkdhgaMB0wPCz8a38/index.html)
      2. Documentation - PfSense

  2. Assigned Reading
    1. [Rapid7 - Endpoint Security - The Value of Continuous Monitoring with Agents](https://www.youtube.com/watch?v=hZc85wyxkV4)
    2. Rapid7 - [Endpoint Agents Are Necessary for Today's Modern Environment: Here's Why (Part 1)](https://blog.rapid7.com/2018/08/22/endpoint-agents-are-necessary-for-todays-modern-environment-heres-why-part-1/)

  1.

#### Day 3 Endpoint Acquisition, Standardization, and Hardening

  1. Notes
    1. Without an operational server to oversee an organization's endpoints, you'll have to harden them manually. Today we'll have students acquire a new computer and perform the time-intensive process of hardening and standardizing the PC to a standard.
  2. Learning Objective:
    1. Skill proficiency in server-based endpoint administration of Windows 10, Ubuntu Linux
  3. Discussion
  4. [Rapid7 - Endpoint Security - The Value of Continuous Monitoring with Agents](https://www.youtube.com/watch?v=hZc85wyxkV4)
  5. Rapid7 - [Endpoint Agents Are Necessary for Today's Modern Environment: Here's Why (Part 1)](https://blog.rapid7.com/2018/08/22/endpoint-agents-are-necessary-for-todays-modern-environment-heres-why-part-1/)
    1. Why might we use endpoint antimalware agents?
    2. Do you agree or disagree with Rapid7 - Endpoint agents are necessary?
    3. What are some endpoint antimalware systems you've used in the past?
      1. Were they effective?
      2. How did they perform?
  6. Lecture
    1. What makes a good endpoint antimalware agent?
      1. Value proposition - See Gartner reviews
      2. Specialty - Does it defend against your greatest concerns?
      3. Performance - How intrusive will the agent be on user experience?
      4. Administration - How centrally manageable is this software? Is deployment and removal straightforward or tedious?

    2. What does an endpoint need in order to connect to the network?

        1. Optional quick refresher from Ops 201
          1. IP assignment
          2. Working DNS
          3. Gateway
          4. Subnet mask
        2. How to check a Windows computer's endpoint configuration
          1. Command line > ipconfig /all
          2. Demonstrate - Review the anatomy of ipconfig output with students
    3. Why might a business need a standardized acquisition process?
      1. Supply chain security concerns
        1. Avoid things like poisoned peripherals, example USB cables
      2. Compliance
        1. Internal policy
        2. External regulation
    4. What are best practices when acquiring subsidiary systems?
      1. Maintain a standard across all systems
        1. System versions and patch management
          1. Have an approved OS version to keep PCs updated on
            1. Good for security
            2. Reduces variables between machines
        2. Application management
        3. Security configurations - Ports, antimalware
          1. Antimalware
            1. Free examples Malwarebytes, Sophos Hitman Pro Trial, Avast, AVG, built in Windows Defender
      2. Operate defensive network security tools
    5. Demonstrate endpoint acquisition checklist

  7. Lab Scenario
    1. Today GlobeX has acquired a small remote branch office in Melbourne. Evaluate endpoints used and elevate to our basic security standards (update, antivirus agent). Then join it to the Melbourne network.
  8. Lab Objective:
  9. In GNS3, in the same project, create an additional working LAN with the same components.
  10. Update the OS to latest on both systems at both sites.
  11. Install an antimalware agent on both systems at both sites.
  12. In Melbourne LAN, set the network to 192.168.2.0/24.

      1. What happens to the endpoint?
      2. What does ipconfig /all show you?
      3. Does ipconfig /renew solve the issue?
      4. Troubleshoot any connectivity issues today

    1. Deliverables
      1. GNS3 screenshot including networking IP ranges and specified device IP addresses.
      2. Demonstrate internet connectivity at both sites

  13. Lab Solution:
    1. In GNS3 deploy a new remote LAN with its own router and Win 10 endpoint mirroring the appliances deployed in your USA location.

![](RackMultipart20200813-4-uhtolv_html_3820e1276139ff62.png)

    1. In your GNS3 be sure to add networking IP ranges and specify device IP addresses.
    2. Use PFsense as your router at both sites

![](RackMultipart20200813-4-uhtolv_html_f7b5bbba6ebb1616.png)

    1. Make sure PFsense is configured past the wizard on both routers. Landing page should look like this.

![](RackMultipart20200813-4-uhtolv_html_d18a69005dcbb897.png)

  1. Assigned Reading
    1. Article - [VPN Mentor: Ultimate Guide to VPN Tunnelling](https://www.vpnmentor.com/blog/ultimate-guide-to-vpn-tunneling/)

  1.

#### Day 4 VPN Tunneling in GNS3

2. Notes

    1. Today we'll join the two separate networks using IPsec Site-to-Site VPN Tunneling using pfSense's built-in IPsec tunnelling capabilities.
3. Learning Objective:
1. Skill proficiency in deploying and administering enterprise-grade routers, switches, and firewalls
2. Knowledge of routing protocols e.g. OSPF, BGP
3. Knowledge of VPN connectivity
4. Discussion

    1. What is VPN?
    2. Do you use VPN personally? What do you use?
    3. How can VPN protect data?
    4. Why doesn't the internet do this by default?
5. Lecture
1. Why would we create a VPN tunnel?

      1. Intersite connectivity
      2. Confidentiality
      1. Defensive security - Extending your private network geographically
      2. Offensive security - Evading detection
2. What is the VPN protocol as it relates to security

      1. SSL VPN
      2. Client-server VPN
      3. Site-to-site VPN tunneling

      1. Network address translation (NAT) services
      1. Security applications for NAT

3. Demonstration
    1. On GNS3 setup up one end of the VPN tunnel
4. Lab Scenario
    1. GlobeX is planning on deploying a shared secure file server on its intranet. Your manager is requesting to incorporate the Melbourne branch office network infrastructure and establish a means of secure site-to-site communications.
5. Lab Objective
    1. Create two separate LANs in GNS3 and join them via IPsec VPN tunnelling.
    2. Technical requirements
    1. Phase 1
    1. Protocol: IKEv2
    2. Method: Mutual Preshared Key
    3. Encryption: AES 256-bit
    4. Lifetime: 28800 sec
    2. Phase 2
    1. Mode: Tunnel IPv4
    2. Protocol: ESP
    3. Encryption: AES256-GCM
    4. Hash Algorithm: SHA256
    5. PFS Key Group: 14 (2048 bit)
    6. Lifetime: 3600 sec
6. Lab Solution
7. Establish comms between both routers (ref Video - [Christian Goyzueta's IPSec Guide](https://www.youtube.com/watch?v=lROingFnmF0))

      1. Optional but recommended for beginners: Go to System > Advanced > Firewall & NAT, then check the box "Disable packet filtering" to shut off the firewall. Do this on both ends. Today we care about verifying the VPN works first and foremost.
      2. Configure a tunnel between the two routers

![](RackMultipart20200813-4-uhtolv_html_293d00ba470afdba.png)

      1. VPN tab > Advanced Settings > Check the box for Enable MSS Clamping; Save changes
      2. If you enabled the firewall, navigate to Firewall > Rules > WAN. By default, "All incoming connections on this interface will be blocked." Therefore, you'll need to create a rule that allows VPN traffic to be passed through the WAN interface. The protocol for IPsec is ISAKMP.
        1. Settings
          1. Procol: UDP
          2. Source: The remote pfSense router's IP address
          3. Destination: This pfSense router's IP address
          4. Destination port range: ISAKMP 500 to ISAKMP 500

![](RackMultipart20200813-4-uhtolv_html_756644523494ca8f.png)

![](RackMultipart20200813-4-uhtolv_html_1ebfa09dbb4d2213.png)

        1. Start configuring your tunnel
          1. Use IKEv2
          2. Specify remote gateway (other pfSense IP)
          3. Description
          4. Authentication method: Mutual PSK
          5. My Identifier: My IP Address
          6. Peer Identifier: Peer IP Address
        2. Configure Phase 1 proposal
          1. AES 256-bit
          2. Lifetime 28800 sec
        3. Add Phase 2 entries
          1. Note - This step specifies which subnets should be made available over the VPN, and also configures the Phase 2 handshake.
          2. Mode: Tunnel IPv4
          3. Local Network: LAN Subnet
          4. Remote Network: Network (remote network's subnet)
          5. Description: Anything goes here
          6. Protocol: ESP
          7. Encryption Algorithm: AES256-GCM
          8. Hash Algorithm: SHA256
          9. PFS Key Group: 14 (2048 bit)
          10. Lifetime: 3600 sec
          11. Save & Apply Changes
        4. If you enabled the firewall, Go back to Firewall > Rules > IPsec
          1. Add a rule
            1. Protocol: Any
            2. Description: Any traffic on IPsec
            3. Save & Apply Changes
        5. Do the same process on the other end
        6. On both routers you'll need to go Status > IPsec > Connect VPN to establish the final connectivity. ESTABLISHED means you're all set.

![](RackMultipart20200813-4-uhtolv_html_d1525ff2cbf0c33d.png)

        1. Now, the endpoints should be able to ping each other. If they fail, do some [troubleshooting](https://forum.netgate.com/topic/74915/ipsec-tunnel-up-but-cant-access-anything-across-tunnel) on how you configured the Phase 2 destination subnet specifications and firewall rules. On the status screen you can also see packets going out/coming in to get a feel for the situation.
    1. Configure client-server VPN
      1. Regular
      2. SSL VPN
    2. Stretch Goal:

        1. Keep the firewall turned on while allowing ICMP ping transmission across tunnel to both WAN and endpoints
        2. Cross a VPN tunnel using NAT between identical IP subnets
          1. Set both networks to 192.168.1.0/24 and use NAT across the tunnel
        3. Automate the VPN connection startup with command line

  1. Submit a report demonstrating comms are now established.
  2. Assigned Reading
    1. Article - [DNS Made Easy: What is DNS](https://dnsmadeeasy.com/support/what-is-dns/)
    2. Article - [TechRepublic: Ubuntu Server: A cheat sheet](https://www.techrepublic.com/article/ubuntu-server-the-smart-persons-guide/)

####

1.

#### Day 5 Adding Linux DNS

  1. Notes
    1. Today we're focusing on the Linux CLI by deploying two Ubuntu Server DNS systems without the GUI. This will introduce students to console-based networking in Linux, CLI-based application management with the apt tool, and more. This class will be challenging for those new to Linux CLI. The idea with this class is for students to gain confidence that they can follow technical documentation in a foreign user interface, and also get some exposure to how one might standup a Linux-based DNS.
  2. Learning Objective:
  3. Skill proficiency with Linux-based Domain Name Systems (DNS) server deployment and administration
  4. Discussion
    1. Article - [DNS Made Easy: What is DNS](https://dnsmadeeasy.com/support/what-is-dns/)
    2. Article - [TechRepublic: Ubuntu Server: A cheat sheet](https://www.techrepublic.com/article/ubuntu-server-the-smart-persons-guide/)
  5. Lecture
    1. Why might we use private DNS servers?
      1. Integrates with internal servers

    2. What is a DNS server?
      1. Domain Name System (DNS)
        1. Maintains a local database of IP addresses associated with domain names
        2. Acts in hierarchy with other DNS servers, all the way up to root DNS

![](RackMultipart20200813-4-uhtolv_html_8e2106991fb4c1da.png)

    1. How does DNS work (ref. Article - [Lifewire - What is a DNS server](https://www.lifewire.com/what-is-a-dns-server-2625854))
      1. DNS query process
        1. A DNS Resolver: Receives the request to resolve the domain name with the IP address. This server does the grunt work in figuring out where the site you want to go actually resides on the internet.
        2. A Root Server: The root server receives the first request, and returns a result to let the DNS resolver know what the address of the Top Level Domain (TLD) server that stores the information about the site. A top level domain is the equivalent of the .com or .net portion of the domain name you entered into the address bar.
        3. A TLD Server: The DNS resolver then queries this server, which will return the Authoritative Name Server where the site is actually returned.
        4. An Authoritative Name Server: Finally, the DNS resolver queries this server to learn the actual IP address of the website you're trying to deliver.
    2. Why might we deploy a server without GUI?
      1. Performance
      2. Space
      3. Preference
    3. How to navigate a Linux command line-only system

help Will call up a list of available commands

apt Package handling will help you greatly in installing apps

sudo Administrator override. Will use this alot!

ls List the directory

cd Change directory

cat Open file in text editor

vim Open file in text editor

    1. How do we deploy and use local DNS servers?
      1. Setup a primary
      2. Setup a secondary

  1. Demo the basics
    1. How to deploy in GNS3
    2. How to navigate CLI
    3. How to get into the BIND9 directory and open up files
  2. Lab Scenario
    1. Today GlobeX USA has decided to deploy a Linux server for hosting DNS, and needs to incorporate the server into existing IT infrastructure. You've sourced a new switch to accommodate the additional physical devices.
  3. Lab Objective:
    1. Deploy a switch to GlobeX USA in GNS3
    2. Deploy a Ubuntu Linux Servers to GNS3
    3. Referencing [this technical procedure](https://ubuntu.com/server/docs/service-domain-name-service-dns), install BIND9 DNS service and have your Win10 PC use it as its exclusive DNS.
      1. Verify successful web browsing and confirm with ipconfig you are exclusively using the new Ubuntu Server DNS.

    4. Stretch goal(s) for experienced Linux CLI users
      1. Have pfSense router propagate this Ubuntu Server DNS IP to all LAN devices
      2. Automate the deployment of Ubuntu Server DNS using a shell script to prep the configuration files in BIND9's directory

  4. Lab Solution
    1. Your initial layout should look something like this

![](RackMultipart20200813-4-uhtolv_html_3c54b34550167f30.png)

    1. The GNS3 barebones switch does not require any special configuration. Here I've plugged my demarc line into e7 (far end of the spectrum) and started ticking upwards for the various devices from e0.
      1. Tip: If your GNS3 project ever bugs out, seems corrupt (like the switch stops working), or otherwise is defunct, try the below:
        1. Check internet connectivity on GNS3 VM
        2. Make a new project
    2. On DNS1 Ubuntu Server, if you're using the osboxes premade VMware image, you'll need to use netplan to launch networking (ref. [Article - Ubuntu Netplan](https://vitux.com/how-to-configure-networking-with-netplan-on-ubuntu/)).
    3. Once you get DNS1 able to access the internet, you'll need to run some commands to install DNS packages.
      1. sudo apt-get install
        1. Updates your apt
      2. sudo apt install bind9
        1. Install BIND9 which is Ubuntu's DNS service
      3. (optional) sudo apt install dnsutils
        1. Install dnsutils which will help you test and troubleshoot your DNS configuration
    4. Configure BIND9 DNS server
      1. The DNS configuration files are stored in the /etc/bind directory. The primary configuration file is /etc/bind/named.conf, which in the layout provided by the package just includes these files.
        1. /etc/bind/named.conf.options: global DNS options

![](RackMultipart20200813-4-uhtolv_html_72d9b8e4e35d0e57.png)

Here you can see I've specified Google as a forwarder by uncommenting the provided template lines of code. Work through the rest of the configuration files similarly and carefully following the instructions.

        1. /etc/bind/named.conf.local: for your zones
        2. /etc/bind/named.conf.default-zones: default zones such as localhost, its reverse, and the root hints
      1. Have students follow [this guide](https://ubuntu.com/server/docs/service-domain-name-service-dns) to proceed with rest of DNS setup
      2. Once you've applied BIND9 changes to the Ubuntu server, switch over to a Win10 box and change its DNS to only the Ubuntu server IP and nothing else.
      3. If you can web browse and your ipconfig pulls the new DNS, you're all set for today. This means your new DNS server is working.

![](RackMultipart20200813-4-uhtolv_html_5bbbccaa9791db1e.png)

  1. Assigned Reading
    1. Article - [Jumpcloud: Microsoft Active Directory®: The Ultimate AD FAQ – JumpCloud](https://jumpcloud.com/blog/active-directory-faq)

### Week 2 Systems & Network Administration

1.

#### Day 6 Windows Server

  1. Notes
    1. Today we're deploying AD DC and DNS packages on a new GUI-enabled (desktop experience) Windows Server 2016 box in GNS3. We'll do some network IP housekeeping, establish the FQDN, and join the existing Win 10 PC to the domain. We'll move the primary DNS on this topology to the Windows Server 2016 machine moving forward, for optimal compatibility and administration. Advanced students should try and keep the BIND9 DNS server within the topology as primary or secondary DNS to gain more Linux experience.
  2. Learning Objective:
    1. Know the IAM methodology, role-based access control (RBAC)
    2. Ability to gather requirements, design, deploy and administer server-based environments
    3. Skill proficiency with Active Directory (AD) deployment and administration
    4. Skill proficiency in server-based endpoint administration of MacOSX, WIndows 7/8/10,
      1. Linux

    5. Skill proficiency with Active Directory (AD) deployment and administration
    6. Skill proficiency with Domain Controller (DC) deployment and administration
    7. Skill proficiency with LDAP administration

  3. Discussion
    1. Article - [Jumpcloud: Microsoft Active Directory®: The Ultimate AD FAQ – JumpCloud](https://jumpcloud.com/blog/active-directory-faq)
      1. Have you ever worked in an environment that uses AD? How do you know it used AD?
      2. Why might a large organization use AD?
      3. Why might a small organization use AD?
  4. Lecture
    1. Why might we deploy an on-prem Windows Server?
      1. Up-front capex
      2. Full administration of infrastructure
      3. Inherited - Legacy or hybrid cloud infrastructure

    2. What is a domained Windows environment?
    3. What is Active Directory?
    4. How do we deploy and operate Active Directory?
    5. How can we join a Windows 10 endpoint to a domain?

  5. Lab Scenario
    1. Today your proposal to deploy a Windows Server 2016 system was approved. Please proceed with deployment of the server to HQ, and be sure to install AD and DC services.
  6. Lab Objective:
    1. Adjust the DHCP server pool range
      1. New range: 192.168.1.10-192.168.1.225
      2. Moving forward, assign critical IT infrastructure IPs to the top end starting with 192.168.1.254 moving downwards

    2. Deploy a Windows Server 2016 VM in GNS3.
      1. Specifications
        1. Static IP Address: 192.168.1.254
    3. Install Active Directory, Domain Controller services.
    4. On pfSense router, reserve an IP address for Windows Server 2016.
    5. On Win 10 PC, join the domain.
    6. Submit a completion report, document all changes.
    7. Stretch goal
      1. Create a Powershell script that automates AD/domain deployment
      2. Instead of GUI, use CLI mode for the entire lab
      3. Following [this article's procedure](https://www.serverlab.ca/tutorials/linux/network-services/using-linux-bind-dns-servers-for-active-directory-domains/) keep the Ubuntu Server as your primary DNS server instead of using Windows Server 2016 as primary DNS

  7. Lab Solution
    1. Deploy a fresh Windows Server 2016 template in GNS3
      1. Select Desktop Experience on install
      2. HDD should indicate 100GB available on single partition

    2. First set up the server's network adapter as a static IP of 192.168.1.254

![](RackMultipart20200813-4-uhtolv_html_398b9fa125a8154b.png)

    1. Add the AD DC and DNS packages to the server.
      1. Server Manager will auto-launch on startup. Go to Server Manager > Add Roles and Features.
      2. Tick the box Active Directory Domain Services and keep defaults as you click through.
        1. Note - These features are modular, but some may depend on one another.
      3. When the package is loaded, click AD DS in the left ribbon and let's go ahead and promote this server to a Domain Controller (DC).

![](RackMultipart20200813-4-uhtolv_html_80013705474d431c.png)

      1. Add a new forest "corp.GlobeXpower.com"
      2. Check DNS, we'll make this our new primary DNS server for optimal compatibility. Add a password for DSRM.
      3. NetBIOS domain name = CORP; leave the rest of settings default
      4. Windows Server will automatically reboot itself to apply changes
      5. Server Manager > Local Server should now indicate it knows about the domain corp.GlobeXpower.com

![](RackMultipart20200813-4-uhtolv_html_aa038e235c3bcd2b.png)

      1. Take note of this server's IP address and annotate to GNS3. Take note of the server's MAC address as well.

![](RackMultipart20200813-4-uhtolv_html_aed218865789e218.png)

      1. On your pfSense router, reserve the IP address of 192.168.1.102 specifically for the Windows Server device. This option is at the bottom of the DHCP server menu.

![](RackMultipart20200813-4-uhtolv_html_57a68ece17b524fa.png)

    1. Join the Windows 10 endpoint to this domain.
      1. First set the DNS to 192.168.1.254 on your NIC
      2. Start + Pause/Break will get you to the system information screen. Take note it is on Workgroup mode. From here go Change settings.

![](RackMultipart20200813-4-uhtolv_html_d938479a94462d42.png)

      1. Click Change… towards the bottom right. Toggle domain mode and enter domain as "corp.GlobeXpower.com" and click OK.

![](RackMultipart20200813-4-uhtolv_html_bac447e44b35b6cc.png)

      1.

  1. Assigned Reading
    1. Article - [Palo Alto Networks: What is Network Segmentation?](https://www.paloaltonetworks.com/cyberpedia/what-is-network-segmentation)

  1.

#### Day 7 UTM Firewalls and Network Segmentation

  1. Notes
  2. Learning Objective:
    1. Knowledge of network design & infrastructure
    2. Knowledge of routing protocols e.g. OSPF, BGP
    3. Ability to perform subnetting
  3. Discussion
    1. Article - [Palo Alto Networks: What is Network Segmentation?](https://www.paloaltonetworks.com/cyberpedia/what-is-network-segmentation)
  4. Lecture
    1. Firewalls
      1. Why use UTM firewalls?
      1. Simplify network administration
      2. What are UTM firewalls?
      1. Unified threat management (UTM) appliances incorporate router and firewall capabilities at the edge
      2. Example is our pfSense router/firewall appliance

    2. Subnets
      1. What is subnetting?
        1. Subdividing a LAN
    3. Demonstration - How can we use network monitoring to see what's happening (ref. [pfSense documentation](https://docs.netgate.com/pfsense/en/latest/monitoring/monitoring-bandwidth-usage.html))?
    4. How do we use pfSense to create subnets?

  5. Lab Scenario
    1. Today there was a security situation where sensitive data was exposed between departments. Francis, a sales rep, was able to view another employee's paycheck because HR left a Windows file share open on a payroll PC, thinking only HR computers were able to see the file share. To prevent this scenario from occurring again, the IT Manager requested that you divide computers into departments Sales, Finance, and HR. Computers in different departments should be prevented from communicating with each other on any port, however server infrastructure needs to be available to all computers at the site. Also, computers should be able to see and communicate with computers from their own department.
  6. Lab Objective:
    1. Divide your GNS3 topology into three departments: Sales, Finance, and HR. Each department must have two endpoints.
      1. Specifications
      1. Sales Department computer
          1. Computer Name: GLB-US-SALES01
          1. OS: Windows 10
      2. Finance Department computer
          1. Computer Name: GLB-US-FINC01
          1. OS: Windows 10
      3. HR Department computers
          1. Computer Name: GLB-US-HR01
          1. OS: Windows 10
          2. Computer Name: GLB-US-HR02
          1. OS: Windows 10

    2. Each department must access the Windows Server, but devices in each department may not communicate with devices in different departments.
    3. Deliverables
      1. GNS3 updated topology screenshot
      2. Ping failure screenshot between Sales, Finance, HR computers
      3. Ping success screenshot between HR intradepartmental computers
    4. Stretch goal
      1. Create a passwordless file share on GLB-US-HR01 that can only be seen and accessed by GLB-US-HR02 and IT.
      2. Use multiple methods for achieving this network segmentation.
        1. Hint: Achieve the objectives over the same pfSense interface without adding switches
        2. Hint: Achieve the objectives using multiple pfSense interfaces by adding switches

  1. Lab solution
    1. Physical network segmentation. This solution leverages the physical interfaces on our pfSense router appliance to create physical subnets. An alternative solution would be to create VLANs or virtual subnets (good stretch goal is to implement both solutions in different GNS3 project files).

![](RackMultipart20200813-4-uhtolv_html_c6a00a8f2b460df.png)

1. This solution involves adding physical switches to each departmental subnet that you need to control as a security zone. The above image is an example buildout.
2. Using the IT Win 10 PC, you'll need to activate three more interfaces on pfSense.

![](RackMultipart20200813-4-uhtolv_html_ee7f3de44a95f29a.png)

1. For each interface, you'll need to configure the firewall. Be sure packet filtering is enabled for this exercise.

![](RackMultipart20200813-4-uhtolv_html_962cdb253a43d630.png)

1. The rest of this exercise is quite repetitive but should give students confidence in handling multiple DHCP pools, subnets, and devices.

- Virtual network segmentation
  - Another popular solution is to use VLANs to achieve scenario objectives. This solution can be mapped in greater detail in the future. If we had access to actual switch images, that would give students more realistic experience configuring VLAN.

  1. Assigned Reading
  1. Article - [Active Directory 360: Fundamentals of Active Directory, Workgroups and Domains](https://www.windows-active-directory.com/fundamentals-of-active-directory-workgroups-and-domains.html)
      1. What is the benefit of AD over a peered/workgroup network?
  2. Article - [Active Directory 360: The Structures and benefits or organizational units](https://www.windows-active-directory.com/the-structures-and-benefits-of-organizational-units.html)
      1. Why might an organization use organizational units?
  3. Technical Documentation - [Microsoft: Manage RBAC with Server Manager](https://docs.microsoft.com/en-us/windows-server/networking/technologies/ipam/manage-role-based-access-control-with-server-manager)
      1. Have a look around Microsoft's official documentation to get an idea of processes surrounding RBAC.

1.

#### Day 8 Identity Management

  1. Notes
    1. Today we'll be a continuation of Ops 201's active directory lab, where we performed routine operations like user password resets in AD. This time around we're focusing more on created groups of users with appropriate clearances.
  2. Learning Objective:
    1. Know the IAM methodology, role-based access control (RBAC)
    2. Skill proficiency with Active Directory (AD) deployment and administration
    3. Ability to gather requirements, design, deploy and administer server-based environments
    4. Ability to assign organizational units (OU) in AD
    5. Skill proficiency in Identity & Access Management (IAM)
  3. Discussion
    1. Article - [Active Directory 360: Fundamentals of Active Directory, Workgroups and Domains](https://www.windows-active-directory.com/fundamentals-of-active-directory-workgroups-and-domains.html)
      1. What is the benefit of AD over a peered/workgroup network?

    2. Article - [Active Directory 360: The Structures and benefits or organizational units](https://www.windows-active-directory.com/the-structures-and-benefits-of-organizational-units.html)
      1. Why might an organization use organizational units?
    3. Technical Documentation - [Microsoft: Manage RBAC with Server Manager](https://docs.microsoft.com/en-us/windows-server/networking/technologies/ipam/manage-role-based-access-control-with-server-manager)
      1. Have a look around Microsoft's official documentation to get an idea of processes surrounding RBAC.

  4. Lecture
  5. Why might we use RBAC?
    1. Dynamic environment
    2. Frequent personnel changes
  6. What is RBAC in the context of Identity and Access Management (IAM)?

      1. Assigning systems users into groups based on principle of least privilege and need to know
  7. What is an OU?

      1. Organizational Units allow a administers to implement role-based or group-based technical policies
  8. Demonstrate - How do we establish and continue to maintain correct identities and authorizations?
    1. Predefined roles are established and RBAC defined
    2. RBAC is applied to existing identities via the creation of OUs in AD, in this case
    3. What if we hire new employees?
      1. Provisioning
      1. This process applies to new hires. During the enrollment or registration process, HR will send IT details on what the new user will be doing, who they report to, what department, etc.
      2. Sysadmin will create new user and assign OU according to the role provided.

    4. Account Review
      1. Remove inactive accounts
      2. Remove excessive privilege
        1. Privilege creep occurs when users switch roles and keep their old authorization unnecessarily.
    5. Account Revocation
      1. When an employee quits or is terminated, we revoke their account using prearranged SOP

  9. Lab Scenario
    1. GlobeX partnered with a new financial institution today, which caused a security audit of GlobeX's IT systems. The audit determined that GlobeX will need to adopt role-based access control (RBAC). Your manager is requesting an RBAC implementation plan. You will need to analyze the GlobeX company org chart and create Organizational Units in AD, then assign users and computers to the Organizational units to implement RBAC.
    2. Specifications
      1. Francis Hopkins, Sr. Account Executive, Sales Department, GlobeX USA
      1. Clearance: Sales folder on file server
      2. Amanda Williams, HR Specialist, HR, GlobeX USA
      1. Clearance: HR folder on file server
      3. Jim Sanders, HR Manager, HR, GlobeX USA
      1. Clearance: HR folder, Executive folder on file server
      4. Rita Morgan, CFO, Finance, GlobeX USA
      1. Clearance: Finance folder, Executive folder on file server
      5. [Yourself], Systems Administrator, GlobeX USA
      1. Clearance: Superuser
  10. Lab Objective:
    1. Install ADUC via RSAT on the IT Windows 10 computer. Use this to administer the AD controls in today's lab.
    2. Install File Server role on Windows Server and create below shared folders:
      1. IT
      2. Finance
      3. HR
      4. Sales

    3. Create Organizational Units (OUs) in AD server
    4. Join endpoint computers to the domain.
    5. Assign all computers to OUs
    6. Assign users for each computer to OUs
    7. Apply group policy
    8. Stretch goal: Create a Powershell or Bash script that automates the joining of an endpoint to the domain
    9. Deliverables
      1. Screenshots demonstrating successful access to correct folders

  11. Lab Solution:
    1. Note - This lab requires the departments built out on GNS3, and the Windows Server staged out to the point where users and OUs can start being created.
    2. On IT's Win 10 PC, download and install RSAT package [here](https://www.microsoft.com/en-us/download/details.aspx?id=45520)
    3. Add the File Server role in Windows Server
    4. Follow [Article - How to Create Organizational Units](https://johnkeen.tech/windows-server-2016-006-organizational-units-and-group-policy-objects/)

  1. Assigned Reading
    1. Article - [GeeksForGeeks: What is Routing?](https://www.geeksforgeeks.org/types-of-routing/)
      1. Why is OSPF dynamic routing considered easier to administer than static routing?

    2. Article - [What is Open Shortest Path First (OSPF)?](https://www.metaswitch.com/knowledge-center/reference/what-is-open-shortest-path-first-ospf)

1.

#### Day 9 OSPF Routing

  1. Notes
    1. While small business admins are unlikely to need advanced routing skills for their day to day, enterprise network administrators should take care to develop routing skills to handle large and complex multi-router topologies or connections. The scenario here is mildly commonplace, as ISP backbone routers can and do malfunction on rare occasion, causing routing problems for everyday users. Routing issues can also arise when configuring VPN tunnelling between two complex LANs, so it's always good to be literate in this aspect of administration.
  2. Learning Objective
    1. Knowledge of **routing protocols** e.g. OSPF, BGP
  3. Discussion
    1. Article - [GeeksForGeeks: What is Routing?](https://www.geeksforgeeks.org/types-of-routing/)
      1. Why is OSPF dynamic routing considered easier to administer than static routing?

    2. Article - [What is Open Shortest Path First (OSPF)?](https://www.metaswitch.com/knowledge-center/reference/what-is-open-shortest-path-first-ospf)

  4. Lecture
    1. What is routing?
      1. Static routing
      2. Dynamic routing

    2. What is OSPF routing?
    3. Demonstrate - How is routing performed?
      1. On pfSense demo a basic static route

  5. Lab Scenario
    1. Last night GlobeX USA experienced a service disruption on the VPN tunnel to Melbourne branch. The IT Manager has been up all night researching the issue, and has determined there was a major change to an ISP backbone router in Japan that is the root cause of packets dropping along the existing route. The ISP's technical support team recommends augmenting both ends of your VPN with OSPF routing to restore connectivity via Taiwan while they work on repairing the downed backbone router, which has impacted many organizations.
  6. Lab Objective
    1. In a new GNS3 project, deploy four pfSense routers. Disable firewall on all four to allow for ICMP transmissions.
      1. USA (left)
      1. Connected to Japan and Taiwan by ethernet
      2. Japan (top)
      1. Connected to USA and Australia
      3. Taiwan (bottom)
      1. Connected to USA and Australia
      4. Australia (right)
      1. Connected to Japan and Taiwan

    2. Attach a computer (OS does not matter, must ping) to USA and a computer to Australia
    3. Create a static route on USA that forces traffic destined for Australia through Taiwan, and not Japan.

  7. Lab Solution
    1. Start by staging the lab. Place a computer at USA and Australia ends.

![](RackMultipart20200813-4-uhtolv_html_d3947529799d6472.png)

The fully-staged lab will appear as so:

![](RackMultipart20200813-4-uhtolv_html_77f557948c4460dd.png)

    1. Start by assigning a static route on USA to force your data through the Taiwan route.
      1. Ping Melbourne from USA
      2. Tracert Melbourne from USA
      3. Ping USA from Melbourne
      4. Tracert USA from Melbourne
    2. Install OSPF and assign OSPF routes
    3. Stretch goal
      1. Add a third route or extend the routes by one router to increase complexity of the topology

  1. Assigned Reading
    1. Article - [Barracuda: What is a DMZ Network?](https://www.barracuda.com/glossary/dmz-network)
    2. Article - [Mozilla: What is a web server?](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_is_a_web_server)

  1.

#### Day 10 Linux Web Server

  1. Notes
    1. Today we're installing a locally-hosted (GNS3) web server. The point of contention here is of course, why not install to cloud? This can be addressed in lecture. For now we'll be loading up Ubuntu Server with an Apache web server package and tinker with the backend HTML to generate a fully operational web server within GNS3. We'll take some time to explore how to make the new web server accessible at port 80 from the internet.
  2. Learning objective:
    1. Knowledge of various IT architectures including cloud, hybrid, on-prem
    2. Knowledge of IT infrastructure design, relationships, availability, and ongoing support
    3. Ability to deploy Linux web server and host a website
  3. Discussion
    1. Article - [Barracuda: What is a DMZ Network?](https://www.barracuda.com/glossary/dmz-network)
    2. Article - [Mozilla: What is a web server?](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_is_a_web_server)
  4. Lecture
    1. Why might we host web server locally versus cloud?
      1. Take a look at costs of web hosting

    2. What is a web server?
    3. What is a DMZ?

![](RackMultipart20200813-4-uhtolv_html_287c75d7c0eebb67.png)

I. A demilitarized zone is a part of your network that is more open to the public using firewall rules designed to permit traffic to specific ports and devices in the DMZ that host public services, such as a web server.

    1. Demonstrate - How do we host a web server locally on Ubuntu Server?

  1. Lab scenario
    1. GlobeX's marketing division has finalized the development of an all-new web site. It is launching this new website next week, and has handed off the server hosting duties to the IT team. Your manager wants to use existing infrastructure to host it due to recent budget cuts in IT; it was determined that cloud hosting will not be feasible at this time. Your manager is suggesting to deploy a web server to your Ubuntu Server. The web server will need to be up and running by EOD.
  2. Lab objective:
    1. Add a web server to your existing Ubuntu Server box.
    2. Code the front page with the below HTML.

<!DOCTYPE html>

<html>

<body>

<h1>GlobeX power Widgets</h1>

<p>We manufacture the best widgets.</p>

<form action='index.php' method="post">

<input type="email" name="email" required="required"/>

<input type="password" name="password"/>

<input type="checkbox" name="remember\_me" value="Remember me"/>

<input type="submit" value="Submit"/>

</form>

</body>

</html>

    1. Verify the website is operational locally.
    2. Move the web server to a demilitarized zone (DMZ) on your LAN.
    3. Configure the network firewall so that the web server is accessible from outside this LAN (do not use VPN tunnelling).
    4. Document and submit all changes.
    5. Stretch goal
      1. Access the web server from the internal network zone
      2. Create a DNS record that redirects LAN users who type "GlobeXpower.com" into the browser to the web server

  1. Lab solution
    1. Create or build upon an existing project file in GNS3 to establish the required topology.

![](RackMultipart20200813-4-uhtolv_html_93a37255f9220edb.png)

    1. On Ubuntu Server CLI run sudo apt install apache2
    2. Determine the IP address of Ubuntu Server using ip a
    3. In a web browser, navigate to the Ubuntu Server IP address. This should take you to the Apache2 Ubuntu Default Page.

![](RackMultipart20200813-4-uhtolv_html_c13c0c1f68043078.png)

    1. Go to your document root. cd /var/www/html where you should find index.html
    2. Make a backup of the default page. This will remove the default page HTML when you load it next. sudo mv index.html index.html.bak
    3. Paste the provided code into your new index.html file.
    4. Verify the page loads as expected locally.
    5. Forward port 80 on the edge firewall to route packets to your web server. [This guide](https://www.informaticar.net/create-port-forwarding-on-pfsense/) is a detailed procedure.

![](RackMultipart20200813-4-uhtolv_html_98281d274c8fd700.png)

![](RackMultipart20200813-4-uhtolv_html_27d68f6f9644b8d.png)

![](RackMultipart20200813-4-uhtolv_html_2700581065002d3d.png)

    1. After applying firewall rule change, verify that the port forwarding is operational from outside this LAN by pointing a web browser to the public IP at port 80.

  1. Assigned Reading
    1. Article - [Guru99: What is a Database? What is SQL?](https://www.guru99.com/introduction-to-database-sql.html)

### Week 3 Systems & Network Administration

1.

#### Day 11 Database Administration

  1. Notes
    1. Today we're installing Microsoft SQL Server 2017 Express (free licensing) on our existing Windows Server 2016 machine that we spun up in GNS3.
  2. Learning Objective
    1. Skill proficiency in database administration of Microsoft SQL Server 2017 Express
  3. Discussion
    1. Article - [Guru99: What is a Database? What is SQL?](https://www.guru99.com/introduction-to-database-sql.html)
  4. Lecture
    1. Why might we deploy a database to an environment?
      1. Multiple tables of data that is relational
      2. Systems integration

    2. What are databases?
      1. Think of "stacked spreadsheets"
      2. Demonstrate - Why do people use spreadsheets/CSV for data?
    3. What kinds of database management systems (DBMS) are available?
      1. Relational
        1. "Traditional" systems including Oracle, MySQL, Microsoft SQL Server (used today's lab as free "Express" edition)
      2. Business Intelligence
        1. Systems for data warehousing and support, not real time stores.
        2. Useful for mining.
        3. Examples Vertica, Aster Data, Greenplum, Netezza
      3. NoSQL
        1. Newer type of DBMS with strong horizontal scalability, performance and ease of assembly
    4. Demonstration - How do we deploy and administer Microsoft SQL Server 2017 Express?
      1. Install to Windows Server
      2. Licensing
      3. Create database
      4. Implement database backup & recovery plan
    5. Demonstration - How can we perform basic SQL statements?
      1. SELECT [ob] FROM [table] WHERE [conditional]

  5. Lab Scenario
    1. An internal application responsible for federal compliance of inventory tracking, AdventureWorks, is having a compatibility problem with all end user systems. Users are submitting complaints that functionality has been impacted. The IT Manager has asked you to migrate the DB to Microsoft SQL Server 2017 Express and write a query to generate a list of users and their clearance levels. Also, write a script that automates the addition of a new user to the system.
  6. Lab Objective
    1. On a Windows Server 2016 VM, deploy [Microsoft SQL Server 2017 Express](https://www.microsoft.com/en-us/download/details.aspx?id=55994)
    2. Using [SQL Server Management Studio](https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-ver15#download-ssms), import the [Adventureworks .bak file](https://docs.microsoft.com/en-us/sql/samples/adventureworks-install-configure?view=sql-server-ver15) as a new database
    3. Perform a backup and restore operation
      1. Create a backup (.bak) file.
      2. Make a change to a table in the database.
      3. Restore from your backup file.
      4. Confirm the change was reversed.

    4. Generate a user accounts report query
      1. Employee
        1. LoginID
        2. HireDate < order by
        3. Current?
    5. Stretch Goal
      1. Write a script that uses SQL query to adds a new user

  7. Lab Solution
    1. Setup a very basic GNS3 topology as such

![](RackMultipart20200813-4-uhtolv_html_45433a21f1474e44.png)

    1. Most of the work will be done on the Windows Server 2016 today. Go ahead and install:
      1. [Microsoft SQL Server 2017 Express](https://www.microsoft.com/en-us/download/details.aspx?id=55994)

![](RackMultipart20200813-4-uhtolv_html_80567b1bf7fb5dd6.png)

1. At the Installation Center choose standalone

![](RackMultipart20200813-4-uhtolv_html_87b47b5477710d2f.png)

1. Use default settings for all options. It will load additional dependencies such as Microsoft R and Anaconda Python.
2. Next install SQL Server Management Tools (specifically wanting to install SSMS).

![](RackMultipart20200813-4-uhtolv_html_a2a88f19313ae179.png)

      1. In [SQL Server Management Studio](https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-ver15#download-ssms), import the [Adventureworks .bak file](https://docs.microsoft.com/en-us/sql/samples/adventureworks-install-configure?view=sql-server-ver15). Follow this [video procedure](https://www.youtube.com/watch?v=dCSkov0OfHM).
        1. Right-click databases > Restore Database
        2. Specify the source and destination

  1. Assigned Reading

  1.

#### Day 12 FTP Server

  1. Notes
    1. Today we'll deploy an FTP server to the USA host network, and have Melbourne guest users access the FTP server over VPN tunnel utilizing Filezilla client. The idea here is to reinforce student understanding of network protocols and how they can be used even at the application level in the client-server model. This also builds on Day 4 VPN lab and emphasizes working with your infrastructure.
  2. Learning Objective
    1. Ability to deploy and operate a secured FTP server
  3. Discussion
  4. Lecture
  5. Lab scenario
    1. Now that an IPsec VPN tunnel is established from GlobeX USA to Melbourne, your manager has assigned you the task of hosting GlobeX USA's internal FTP server for Melbourne users to access. Your manager has requested this FTP server utilize SSL encryption and only allow specific users to login.
  6. Lab objective
    1. Using your existing VPN lab in GNS3, install a FTP server to Ubuntu Server at GlobeX USA.
      1. Allow authenticated FTP connections only; disallow anonymous FTP.
      2. Create a list of five users who are allowed to access the FTP server.
      3. Enable SSL encryption using the default provided certificates. NOTE: We'll study how certificates work later on in Ops 401 during public key encryption course. For now use provided defaults.

    2. From an endpoint in Melbourne, use Filezilla to successfully connect and transfer a test.txt file across the VPN over FTPS using one of the allowed users.

  7. Lab solution
    1. Procedure from Ubuntu.com - [Ubuntu Server FTP Server Documentation](https://ubuntu.com/server/docs/service-ftp)
  8. Assigned Reading

  1.

#### Day 13 Patch Management

  1. Notes
    1. Managing the OS versions of your devices is a constant challenge. Commonly dubbed "patch Tuesday," this is a common routine practice for sysadmins and is generally best practice from a security perspective to reduce the number of OS-level security vulnerabilities present across the network. We'll install WSUS to a Windows Server and implement a scheduled patching policy.
  2. Learning Objective
    1. Knowledge of IT infrastructure design, relationships, availability, and ongoing support
    2. Skill proficiency in patch management
    3. Skill proficiency in server-based endpoint administration of WIndows 7/8/10
  3. Discussion
    1. What is patch management?
    2. What is group policy?
    3. Demonstrate - How can we force a Windows PC to synchronize its group policy?
      1. gpupdate /force

    4. How can we load WSUS and institute a group policy of managed updates?

  4. Lecture
    1. Why do sysadmins manage software updates?
    2. What is patch management?
    3. How do we manage software versioning effectively?
      1. Using the right tools
      1. WSUS on Windows Server Should have some info on things like Adobe and Java, i.e 3rd party apps
  5. Lab scenario
    1. Last night, a security audit team discovered that Melbourne office endpoint operating systems, specifically Windows 7-10 computers, are out of date and vulnerable to attack. The security team has requested we patch the operating systems and also implement a patch management system for Windows computers across the organization. The IT manager has requested you prioritize this project and implement a patch management system by EOD.
  6. Lab Objective
    1. Deploy WSUS service package on Windows Server 2016
    2. Assign your computers into policy groups.
    3. Implement a patch policy schedule
    4. Push a version update to a specific Windows 10 endpoint
    5. Test and validate endpoint received patches via WSUS GP
    6. Assess the OS versions of your systems
    7. Submit documentation
  7. Assigned Reading
    1. Article - [Microsoft Documentation: What is Powershell?](https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7)
      1. How is Powershell different from Windows command line interface?

    2. Article - [Microsoft Documentation: About WMI](https://docs.microsoft.com/en-us/windows/win32/wmisdk/about-wmi)

1.

#### Day 14 Shell Scripting

  1. Notes
  2. Learning Objectives
    1. Knowledge of **scripting and automation** in context of systems administration
    2. Knowledge of various high level programming languages such as Python, Ruby in context of systems administration
    3. Ability to identify a task automation opportunity and develop a corresponding script
    4. Skill proficiency in **bash scripting and OS task automation**
    5. Skill proficiency in Powershell script development
  3. Discussion
    1. Article - [Microsoft Documentation: What is Powershell?](https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7)
      1. How is Powershell different from Windows command line interface?

    2. Article - [Microsoft Documentation: About WMI](https://docs.microsoft.com/en-us/windows/win32/wmisdk/about-wmi)

  4. Lecture
    1. What programming languages should a systems administrator learn?
      1. Python
      1. Right behind Javascript as the #2 most commonly used language
      2. Allows for scripting & automation tooling
      2. Ruby

    2. What is Powershell?
      1. Firstly, what is a shell?
        1. User interface for accessing the operating system's services
        2. Command-line based or can include a graphical user interface (GUI)
          1. Example GUI: The familiar Windows start menu, desktop and task bar make up the Windows shell
          2. Example CLI: Microsoft's Powershell or Linux BASH (Bourne-Again SHell)
        3. Named "shell" because it is the outermost layer of the operating system
      2. Powershell is Microsoft's proprietary command line shell
        1. Object-oriented
        2. Differs from Linux shell/BASH
      3. Related tools
        1. Powershell ISE

![](RackMultipart20200813-4-uhtolv_html_454f3600af195771.png)

    1. What is Windows Management Instrumentation (WMI)?
      1. Proprietary Microsoft-only tool to access management information on Windows systems
      2. Installed by default on Windows desktop and server operating systems
      3. Examples of platforms that integrate with WMI
        1. SolarWinds WMI monitor
        2. Spiceworks
        3. Nagios XI
        4. Sapien WMI Explorer
    2. Demonstration - How can we automate common administrator tasks using Powershell?
      1. Demonstrate a basic text file execution, then switch over to Powershell ISE
      2. Powershell basic commands
        1. Copy-item: cp
        2. Remove-Item: rm
        3. Move-Item: mv
        4. New-item: ni
        5. Set-Location: cd

  1. Lab Scenario
    1. After spending a few weeks resolving issues with your front line IT support technicians, you noticed they are spending a significant amount of time remoting into user computers to look up system diagnostics as part of their initial troubleshooting efforts. Today you have some downtime and want to code some Powershell scripts that will allow your support technicians to pull valuable system information without disrupting users.
  2. Lab Objective
    1. Write a Powershell script (.ps1 file) that says "hello world" in the shell
    2. Write a Powershell script that uses WMI to display system diagnostics
      1. System
      2. BIOS
      3. Motherboard
      4. CPU
      5. Logical Drives
      6. Physical Drives
      7. Memory
      8. NIC

    3. Add code that allows the above WMI script to remotely pull system information, if given another computer's IP address and administrator credentials.
    4. Stretch goal
      1. Write a Powershell script that can show you all drives along with available disk space versus total capacity disk space in GB
      2. Write a Powershell script that can remotely force another PC to renew its IP configuration

  3. Lab Solution
    1. [Spiceworks - Useful Powershell Commands](https://community.spiceworks.com/how_to/138237-useful-powershell-scripts-commands)

  1.

#### Day 15 Cloud Email Services

  1. Notes
    1. Today's lab is all about getting to know the cloud email providers.
  2. Learning Objectives
    1. Skill proficiency in business requirements analysis
    2. Skill proficiency in administering popular cloud information systems such as Office 365, AWS, Azure, Google, Exim Mail Service
  3. Discussion
  4. Lecture
    1. Why migrate to the cloud?
    2. What is a SaaS?
    3. How do we assess requirements to recommend a SaaS product?
  5. Lab Scenario
    1. The IT manager is thinking about moving the identity management infrastructure to Azure. Alternative cloud mail service are also being assessed, such as Exim, Gmail, and Microsoft 365. Your manager has requested you explore what it would take to move to an Azure hybrid infrastructure, and also assess what email service GlobeX should adopt.
  6. Lab Objective
  7. Perform a business requirements analysis and make recommendations regarding Azure and cloud-based email services.
  8. Deploy a free trial of the selected service, e.g. O365
    1. How are accounts created?
    2. How are security configurations managed?
    3. Is there logging? Where is it?
  9. Assign Projects
    1. Get students ready for final project week
